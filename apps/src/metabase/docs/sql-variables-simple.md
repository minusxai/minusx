# Variables
## What's this for?
Variables in native queries let you dynamically replace values in your queries using filter widgets or through the URL.

## Variables
`{{variable_name}}` creates a variable in this query template called "variable_name". Variables can be given types in the side panel, which changes their behavior. All variable types other than "Field Filter" will automatically cause a filter widget to be placed on this question; with Field Filters, this is optional. When this filter widget is filled in, that value replaces the variable in the query template.

### Example:
```
SELECT count(*)
FROM products
WHERE category = {{category}}
```

## Field Filters
Giving a variable the "Field Filter" type allows you to link questions to dashboard filter widgets or use more types of filter widgets on your SQL question. A Field Filter variable inserts SQL similar to that generated by the GUI query builder when adding filters on existing columns.

When adding a Field Filter variable, you'll need to map it to a specific field. You can then choose to display a filter widget on your question, but even if you don't, you can now map your Field Filter variable to a dashboard filter when adding this question to a dashboard. Field Filters should be used inside of a "WHERE" clause.

### Example:
```
SELECT count(*)
FROM products
WHERE {{created_at}}
```

## Optional Clauses
Brackets around a `[[{{variable}}]]` create an optional clause in the template. If "variable" is set, then the entire clause is placed into the template. If not, then the entire clause is ignored.

### Example:
```
SELECT count(*)
FROM products
[[WHERE category = {{category}}]]
```

To use multiple optional clauses you can include at least one non-optional WHERE clause followed by optional clauses starting with "AND".

### Example:
```
SELECT count(*)
FROM products
WHERE 1=1
  [[AND id = {{id}}]]
  [[AND category = {{category}}]]
```

When using a Field Filter, the column name should not be included in the SQL. Instead, the variable should be mapped to a field in the side panel.

Example:
SELECT count(*)
FROM products
WHERE 1=1
  [[AND {{category}}]]

